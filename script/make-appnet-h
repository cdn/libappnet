#!/bin/bash

TOP_SRCDIR="$(dirname "$0")/.."
TOP_SRCDIR="$(cd "$TOP_SRCDIR" && pwd)"

echo "#ifndef _APPNET_H_INCLUDED_"
echo "#define _APPNET_H_INCLUDED_"
echo
echo "/* This file is automatically generated by script/make-appnet-h */"
echo

for filename in "$TOP_SRCDIR/appnet/"*.h; do
    if [ "$(basename "$filename")" == "appnet.h" ]; then
        continue
    elif [ "$filename" == "$(echo $filename | sed -e "s,-private\\.h$,,g")" ]; then
        echo "#include <appnet/$(basename "$filename")>"
    fi
done

echo
echo "#endif"

